<!DOCTYPE html>
<html>
<!-- head -->
<head>
    <!-- charset -->
    <meta charset="UTF-8">
    <!-- import javascript -->
    <script src="../vendor/jquery/jquery-1.12.0.js"></script><!-- jquery -->
    <script src="../vendor/jquery-ui-1.11.4/jquery-ui.js"></script><!-- jquery ui -->
    <!-- import stylesheet -->
    <link rel="stylesheet" href="../vendor/jquery-ui-1.11.4/jquery-ui.structure.css" /><!-- generated by jquery ui -->
    <link rel="stylesheet" href="../vendor/jquery-ui-1.11.4/jquery-ui.theme.css" /><!-- generated by jquery ui -->
    <!-- script -->
    <script>
    $(function() {
        var source_list = ['@yahoo.co.jp','@gmail.com','@docomo.ne.jp','@ezweb.ne.jp','@i.softbank.jp'];
        $('#autocompleteInput').autocomplete({
            source: function(req, res) {
                var inputVal = req.term;
                
                if (inputVal.substring(inputVal.length-1,inputVal.length) == '@') {
                  var matcher = new RegExp('^' + inputVal, 'i');
                  res(source_list);
                } else {
                  return;
                }
            },
            select: function(event, ui) {
                this.value = this.value.substring(0, this.value.indexOf('@')) + ui.item.value;
                return false;
            },
            focus: function(event, ui) {
                this.value = this.value.substring(0, this.value.indexOf('@')) + ui.item.value;
                return false;
            },
            autoFocus: true,
            delay: 500,
            minLength: 2
        });
    });
    </script>
</head>

<!-- body -->
<body>
<div>
<div>
 <p><b>sample1 - get autocomplete email address - </b></p>
 <input type="text" id="autocompleteInput" /><br />
</div>
<br />
<hr />
<div>
 <a href="../index.html">back to home</a>
</div>
</body>

</html>